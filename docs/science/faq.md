
# 基础问答

## 为什么 MC 的光影优化如此糟糕？

答：有以下几个原因：

- `OpenGL` 本身性能不差，但是选用的版本实在是太老旧了，这也导致老旧版本的着色器代码具有**极大的优化空间**；
- `lwjgl` 封装加上 `Blaze3d` 封装让代码效率打了折扣；
- 游戏渲染和主进程绑定在一起，也就意味着虽然 `GPU` 可能有空闲，但是由于主进程运算阻塞，导致 `FPS` 降低；
- 部分优化完全可以达到很好的效果，但是 Mojang 没能力做（例如 `Sodium` 或者 `OptiFine` 的优化）。
- 换言之：
  - 从最底层看，御三家的 `OpenGL` 实现做的参差不齐；
  - 往上看 `OpenGL` 本身历史包袱重，而且 `Mojang` 用的是旧的方法，新的也不会用；
  - 看引擎： `lwjgl` 也就 `MC` 在用了，小厂自研，优化一般，单线程运作也限制了过多东西；
  - 看游戏架构：渲染与其他操作绑定同步，只要别的地方出岔子，渲染就卡；
  - 再看看渲染代码：优化二字完全没体现，能用就行；
  - 最后看总体：一代不如一代。
